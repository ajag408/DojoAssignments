Working on self-join number 10

JOIN route AS b
ON a.num = b.num
JOIN stops AS stopb
ON b.stop = stopb.id

 AND b.num IN  AND (stopa.name = stopb.name)


((a.num IN (SELECT num FROM route JOIN stops ON route.stop = stops.id WHERE name = 'Craiglockhart') OR b.num IN (SELECT num FROM route JOIN stops ON route.stop = stops.id WHERE name = 'Sighthill') AND a.num != b.num) 


JOIN route AS b
ON a.num = b.num
JOIN stops AS stopb
ON b.stop = stopb.id

a.num IN (SELECT num FROM route JOIN stops ON route.stop = stops.id WHERE name = 'Craiglockhart') OR b.num IN (SELECT num FROM route JOIN stops ON route.stop = stops.id WHERE name = 'Sighthill')

Most Recent Version
SELECT a.num, a.company, name
FROM route AS a
JOIN route AS b
ON (a.company = b.company AND a.num = b.num)
JOIN stops
ON b.stop = stops.id
WHERE a.stop IN (SELECT stop FROM route JOIN stops ON route.stop = stops.id WHERE name = 'Craiglockhart') AND b.stop IN (SELECT b.stop FROM route AS a JOIN route AS b ON a.num = b.num JOIN stops ON a.stop = stops.id WHERE name = 'Sighthill')

SCRatch

b.stop IN (SELECT b.stop FROM route AS a JOIN route AS b ON a.num = b.num JOIN stops ON a.stop = stops.id WHERE name = 'Sighthill')